<?xml version="1.0" encoding="UTF-8"?>

<xwikidoc>
  <web>RecruitmentApp</web>
  <name>Configuration</name>
  <language/>
  <defaultLanguage/>
  <translation>0</translation>
  <parent>RecruitmentApp.WebHome</parent>
  <creator>xwiki:XWiki.Admin</creator>
  <author>xwiki:XWiki.Admin</author>
  <customClass/>
  <contentAuthor>xwiki:XWiki.Admin</contentAuthor>
  <creationDate>1369751360000</creationDate>
  <date>1370504642000</date>
  <contentUpdateDate>1370504642000</contentUpdateDate>
  <version>1.1</version>
  <title/>
  <template/>
  <defaultTemplate/>
  <validationScript/>
  <comment/>
  <minorEdit>false</minorEdit>
  <syntaxId>xwiki/2.1</syntaxId>
  <hidden>true</hidden>
  <content>{{velocity output="false"}}#set($configDoc = $xwiki.getDocument('RecruitmentApp.Configuration'))
#set($configClass = $xwiki.getDocument('RecruitmentApp.ConfigurationClass').getxWikiClass())
#set ($discard = $services.localization.use('document', 'RecruitmentApp.AdminTranslations'))

###check if a new office or status must be added
#if ( "$!request.officeName" != "" )
    #set($pageName = $request.officeName)
    #set($pageNoSpace = $pageName.replace(' ', ''))
    #set($newDoc = $xwiki.getDocument("RecruitmentApp.$pageNoSpace"))
    #set($discard = $newDoc.createNewObject('RecruitmentApp.OfficeClass'))
    #set($officeObject = $newDoc.getObject('RecruitmentApp.OfficeClass'))
    $newDoc.setTitle($pageName)
    $officeObject.set('office', $pageName)
    $newDoc.save()
#end
#if ( "$!request.statusName" != "" ) 
  #set($statusName = $request.statusName)
  #set($statusNoSpace = $statusName.replace(' ', ''))
  #set($newDoc = $xwiki.getDocument("RecruitmentApp.$statusNoSpace"))
  #set($discard = $newDoc.createNewObject('RecruitmentApp.StatusClass'))
  #set($statusObject = $newDoc.getObject('RecruitmentApp.StatusClass'))
  $newDoc.setTitle($statusName)
  $statusObject.set('status', $statusName)
  $newDoc.save()
#end{{/velocity}}
{{velocity}}== Offices ==
#set($officeTableOptions = {
  'className' : 'RecruitmentApp.OfficeClass',
  'translationPrefix': 'recruitmentapp.office.livetable.',
  'rowCount' : 10
})
#set($officeTableColumnsProperties = {
   'office': { "type" : "String" },
   '_actions' : { "actions" : ["delete"] }
})
#set($officeTableColumns = ["office", "_actions"])
#livetable("officeTable" $officeTableColumns $officeTableColumnsProperties $officeTableOptions)
{{html clean="false"}}
&lt;form method="post" action=""&gt;
   Office: &lt;input type="text" name="officeName" /&gt;
   &lt;input type="submit" value="Add" class="button" /&gt;
&lt;/form&gt;
{{/html}}

###Display status
== Candidate Status ==
#set($statusTableOptions = {
  'className' : 'RecruitmentApp.StatusClass',
  'translationPrefix' : 'recruitmentapp.status.livetable.',
  'rowCount': 10
})
#set($statusTableColumnsProperties = {
  'status' : { "type" : "String" },
  '_actions' : { 'actions': ['delete']}
})
#set($statusTableColumns = ['status', '_actions'])
#livetable('statusTable' $statusTableColumns $statusTableColumnsProperties $statusTableOptions)
{{html clean="false"}}
&lt;form method="post" action=""&gt;
   Status: &lt;input type="text" name="statusName" /&gt;
   &lt;input type="submit" value="Add" class="button" /&gt;
&lt;/form&gt;
{{/html}}{{/velocity}}

(((

(((
</content>
</xwikidoc>
