<?xml version="1.0" encoding="UTF-8"?>
<xwikidoc>
<web>JobArea</web>
<name>AutoSuggest</name>
<language></language>
<defaultLanguage>en</defaultLanguage>
<translation>0</translation>
<parent></parent>
<creator>XWiki.Admin</creator>
<author>XWiki.Admin</author>
<customClass></customClass>
<contentAuthor>XWiki.Admin</contentAuthor>
<creationDate>1369319630000</creationDate>
<date>1370336901000</date>
<contentUpdateDate>1370336901000</contentUpdateDate>
<version>6.8</version>
<title>AutoSuggest</title>
<template></template>
<defaultTemplate></defaultTemplate>
<validationScript></validationScript>
<comment></comment>
<minorEdit>true</minorEdit>
<syntaxId>xwiki/2.1</syntaxId>
<hidden>false</hidden>
<content>{{velocity}}
#set($input = $request.get("input").toLowerCase())
#set($spacename = $request.get('spacename'))

$response.setContentType("text/xml")

#if("$!input" == "")
    #set($query = "from doc.object(JobArea.JobAreaClass)")
#else
    #set($query = "from doc.object(JobArea.JobAreaClass) as job where lower(job.position) like '%" + $input +"%'")
#end

#set($searchResults = $services.query.xwql($query).execute())
&lt;results space="$spacename"&gt;
  #foreach($result in $searchResults)
       #set($resultDoc = $xwiki.getDocument($result))       
       #set($resultTitle = $resultDoc.position)
       &lt;rs id="$resultTitle"&gt;$resultTitle&lt;/rs&gt;
  #end
&lt;/results&gt;

{{/velocity}}</content>
<versions>head	6.8;
access;
symbols;
locks; strict;
comment	@# @;


6.8
date	2013.06.04.12.08.21;	author XWiki_2EAdmin;	state full;
branches;
next	6.7;

6.7
date	2013.06.04.12.08.08;	author XWiki_2EAdmin;	state diff;
branches;
next	6.6;

6.6
date	2013.06.04.12.07.55;	author XWiki_2EAdmin;	state diff;
branches;
next	6.5;

6.5
date	2013.06.04.12.07.24;	author XWiki_2EAdmin;	state diff;
branches;
next	6.4;

6.4
date	2013.06.04.12.05.09;	author XWiki_2EAdmin;	state diff;
branches;
next	6.3;

6.3
date	2013.06.04.12.04.47;	author XWiki_2EAdmin;	state full;
branches;
next	6.2;

6.2
date	2013.06.04.12.04.38;	author XWiki_2EAdmin;	state diff;
branches;
next	6.1;

6.1
date	2013.06.04.12.03.54;	author XWiki_2EAdmin;	state diff;
branches;
next	5.2;

5.2
date	2013.06.04.11.59.01;	author XWiki_2EAdmin;	state diff;
branches;
next	5.1;

5.1
date	2013.06.04.10.46.53;	author XWiki_2EAdmin;	state diff;
branches;
next	4.16;

4.16
date	2013.06.04.10.30.45;	author XWiki_2EAdmin;	state full;
branches;
next	4.15;

4.15
date	2013.06.04.10.30.39;	author XWiki_2EAdmin;	state diff;
branches;
next	4.14;

4.14
date	2013.06.04.10.30.23;	author XWiki_2EAdmin;	state diff;
branches;
next	4.13;

4.13
date	2013.06.04.10.30.20;	author XWiki_2EAdmin;	state diff;
branches;
next	4.12;

4.12
date	2013.06.04.10.29.55;	author XWiki_2EAdmin;	state diff;
branches;
next	4.11;

4.11
date	2013.06.04.10.29.33;	author XWiki_2EAdmin;	state full;
branches;
next	4.10;

4.10
date	2013.06.04.10.29.28;	author XWiki_2EAdmin;	state diff;
branches;
next	4.9;

4.9
date	2013.06.04.10.29.10;	author XWiki_2EAdmin;	state diff;
branches;
next	4.8;

4.8
date	2013.06.04.10.28.53;	author XWiki_2EAdmin;	state diff;
branches;
next	4.7;

4.7
date	2013.06.04.10.28.42;	author XWiki_2EAdmin;	state diff;
branches;
next	4.6;

4.6
date	2013.06.04.10.28.23;	author XWiki_2EAdmin;	state full;
branches;
next	4.5;

4.5
date	2013.06.04.10.28.05;	author XWiki_2EAdmin;	state diff;
branches;
next	4.4;

4.4
date	2013.06.04.10.27.35;	author XWiki_2EAdmin;	state diff;
branches;
next	4.3;

4.3
date	2013.06.04.10.25.33;	author XWiki_2EAdmin;	state diff;
branches;
next	4.2;

4.2
date	2013.06.04.10.25.17;	author XWiki_2EAdmin;	state diff;
branches;
next	4.1;

4.1
date	2013.06.04.10.24.33;	author XWiki_2EAdmin;	state full;
branches;
next	3.2;

3.2
date	2013.06.04.10.24.30;	author XWiki_2EAdmin;	state diff;
branches;
next	3.1;

3.1
date	2013.06.04.10.22.11;	author XWiki_2EAdmin;	state diff;
branches;
next	2.1;

2.1
date	2013.06.04.10.20.44;	author XWiki_2EAdmin;	state diff;
branches;
next	1.1;

1.1
date	2013.05.23.17.35.32;	author XWiki_2EAdmin;	state diff;
branches;
next	;


desc
@@


6.8
log
@@
text
@&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;xwikidoc&gt;
&lt;web&gt;JobArea&lt;/web&gt;
&lt;name&gt;AutoSuggest&lt;/name&gt;
&lt;language&gt;&lt;/language&gt;
&lt;defaultLanguage&gt;en&lt;/defaultLanguage&gt;
&lt;translation&gt;0&lt;/translation&gt;
&lt;parent&gt;&lt;/parent&gt;
&lt;creator&gt;XWiki.Admin&lt;/creator&gt;
&lt;author&gt;XWiki.Admin&lt;/author&gt;
&lt;customClass&gt;&lt;/customClass&gt;
&lt;contentAuthor&gt;XWiki.Admin&lt;/contentAuthor&gt;
&lt;creationDate&gt;1369319630000&lt;/creationDate&gt;
&lt;date&gt;1370336901000&lt;/date&gt;
&lt;contentUpdateDate&gt;1370336901000&lt;/contentUpdateDate&gt;
&lt;version&gt;6.8&lt;/version&gt;
&lt;title&gt;AutoSuggest&lt;/title&gt;
&lt;template&gt;&lt;/template&gt;
&lt;defaultTemplate&gt;&lt;/defaultTemplate&gt;
&lt;validationScript&gt;&lt;/validationScript&gt;
&lt;comment&gt;&lt;/comment&gt;
&lt;minorEdit&gt;true&lt;/minorEdit&gt;
&lt;syntaxId&gt;xwiki/2.1&lt;/syntaxId&gt;
&lt;hidden&gt;false&lt;/hidden&gt;
&lt;content&gt;{{velocity}}
#set($input = $request.get("input").toLowerCase())
#set($spacename = $request.get('spacename'))

$response.setContentType("text/xml")

#if("$!input" == "")
    #set($query = "from doc.object(JobArea.JobAreaClass)")
#else
    #set($query = "from doc.object(JobArea.JobAreaClass) as job where lower(job.position) like '%" + $input +"%'")
#end

#set($searchResults = $services.query.xwql($query).execute())
&amp;lt;results space="$spacename"&amp;gt;
  #foreach($result in $searchResults)
       #set($resultDoc = $xwiki.getDocument($result))       
       #set($resultTitle = $resultDoc.position)
       &amp;lt;rs id="$resultTitle"&amp;gt;$resultTitle&amp;lt;/rs&amp;gt;
  #end
&amp;lt;/results&amp;gt;

{{/velocity}}&lt;/content&gt;&lt;/xwikidoc&gt;
@


6.7
log
@@
text
@d14 3
a16 3
&lt;date&gt;1370336888000&lt;/date&gt;
&lt;contentUpdateDate&gt;1370336888000&lt;/contentUpdateDate&gt;
&lt;version&gt;6.7&lt;/version&gt;
d29 1
a29 1
###$response.setContentType("text/xml")
@


6.6
log
@@
text
@d14 3
a16 3
&lt;date&gt;1370336875000&lt;/date&gt;
&lt;contentUpdateDate&gt;1370336875000&lt;/contentUpdateDate&gt;
&lt;version&gt;6.6&lt;/version&gt;
a37 3
#foreach($s in $searchResults)
   $s
#end
@


6.5
log
@@
text
@d14 3
a16 3
&lt;date&gt;1370336844000&lt;/date&gt;
&lt;contentUpdateDate&gt;1370336844000&lt;/contentUpdateDate&gt;
&lt;version&gt;6.5&lt;/version&gt;
d37 1
a37 1
#set($searchResults = $xwiki.searchDocuments($query))
@


6.4
log
@@
text
@d14 3
a16 3
&lt;date&gt;1370336709000&lt;/date&gt;
&lt;contentUpdateDate&gt;1370336709000&lt;/contentUpdateDate&gt;
&lt;version&gt;6.4&lt;/version&gt;
d32 1
a32 1
    #set($query = "where doc.space='$spacename' and doc.name&amp;lt;&amp;gt;'WebHome' and doc.name&amp;lt;&amp;gt;'WebPreferences' and doc.name&amp;lt;&amp;gt;'JobService'")
d34 1
a34 1
    #set($query = "where doc.space='$spacename' and doc.name&amp;lt;&amp;gt;'WebHome' and doc.name&amp;lt;&amp;gt;'WebPreferences' and doc.name&amp;lt;&amp;gt;'JobService' and lower(doc.name) like '%" + $input +"%'")
@


6.3
log
@@
text
@&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;xwikidoc&gt;
&lt;web&gt;JobArea&lt;/web&gt;
&lt;name&gt;AutoSuggest&lt;/name&gt;
&lt;language&gt;&lt;/language&gt;
&lt;defaultLanguage&gt;en&lt;/defaultLanguage&gt;
&lt;translation&gt;0&lt;/translation&gt;
&lt;parent&gt;&lt;/parent&gt;
&lt;creator&gt;XWiki.Admin&lt;/creator&gt;
&lt;author&gt;XWiki.Admin&lt;/author&gt;
&lt;customClass&gt;&lt;/customClass&gt;
&lt;contentAuthor&gt;XWiki.Admin&lt;/contentAuthor&gt;
&lt;creationDate&gt;1369319630000&lt;/creationDate&gt;
&lt;date&gt;1370336687000&lt;/date&gt;
&lt;contentUpdateDate&gt;1370336687000&lt;/contentUpdateDate&gt;
&lt;version&gt;6.3&lt;/version&gt;
&lt;title&gt;AutoSuggest&lt;/title&gt;
&lt;template&gt;&lt;/template&gt;
&lt;defaultTemplate&gt;&lt;/defaultTemplate&gt;
&lt;validationScript&gt;&lt;/validationScript&gt;
&lt;comment&gt;&lt;/comment&gt;
&lt;minorEdit&gt;true&lt;/minorEdit&gt;
&lt;syntaxId&gt;xwiki/2.1&lt;/syntaxId&gt;
&lt;hidden&gt;false&lt;/hidden&gt;
&lt;content&gt;{{velocity}}
#set($input = $request.get("input").toLowerCase())
#set($spacename = $request.get('spacename'))

###$response.setContentType("text/xml")

#if("$!input" == "")
    #set($query = "where doc.space='$spacename' and doc.name&amp;lt;&amp;gt;'WebHome' and doc.name&amp;lt;&amp;gt;'WebPreferences' and doc.name&amp;lt;&amp;gt;'JobService'")
#else
    #set($query = "where doc.space='$spacename' and doc.name&amp;lt;&amp;gt;'WebHome' and doc.name&amp;lt;&amp;gt;'WebPreferences' and doc.name&amp;lt;&amp;gt;'JobService' and lower(doc.name) like '%" + $input +"%'")
#end

#set($searchResults = $xwiki.searchDocuments($query))
$searchResults.size()
&amp;lt;results space="$spacename"&amp;gt;
  #foreach($result in $searchResults)
       #set($resultDoc = $xwiki.getDocument($result))       
       #set($resultTitle = $resultDoc.position)
       &amp;lt;rs id="$resultTitle"&amp;gt;$resultTitle&amp;lt;/rs&amp;gt;
  #end
&amp;lt;/results&amp;gt;

{{/velocity}}&lt;/content&gt;&lt;/xwikidoc&gt;
@


6.2
log
@@
text
@d14 3
a16 3
&lt;date&gt;1370336678000&lt;/date&gt;
&lt;contentUpdateDate&gt;1370336678000&lt;/contentUpdateDate&gt;
&lt;version&gt;6.2&lt;/version&gt;
d29 1
a29 1
$response.setContentType("text/xml")
@


6.1
log
@@
text
@d14 3
a16 3
&lt;date&gt;1370336634000&lt;/date&gt;
&lt;contentUpdateDate&gt;1370336341000&lt;/contentUpdateDate&gt;
&lt;version&gt;6.1&lt;/version&gt;
d22 1
a22 1
&lt;minorEdit&gt;false&lt;/minorEdit&gt;
d38 1
a38 1

@


5.2
log
@@
text
@d14 1
a14 1
&lt;date&gt;1370336341000&lt;/date&gt;
d16 1
a16 1
&lt;version&gt;5.2&lt;/version&gt;
d22 1
a22 1
&lt;minorEdit&gt;true&lt;/minorEdit&gt;
@


5.1
log
@@
text
@d4 1
a4 1
&lt;name&gt;Autosuggest&lt;/name&gt;
d14 4
a17 4
&lt;date&gt;1370332013000&lt;/date&gt;
&lt;contentUpdateDate&gt;1370331045000&lt;/contentUpdateDate&gt;
&lt;version&gt;5.1&lt;/version&gt;
&lt;title&gt;Autosuggest&lt;/title&gt;
d22 1
a22 1
&lt;minorEdit&gt;false&lt;/minorEdit&gt;
d29 1
a29 1
$response.setContent("text/xml")
@


4.16
log
@@
text
@&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;xwikidoc&gt;
&lt;web&gt;JobArea&lt;/web&gt;
&lt;name&gt;Autosuggest&lt;/name&gt;
&lt;language&gt;&lt;/language&gt;
&lt;defaultLanguage&gt;en&lt;/defaultLanguage&gt;
&lt;translation&gt;0&lt;/translation&gt;
&lt;parent&gt;&lt;/parent&gt;
&lt;creator&gt;XWiki.Admin&lt;/creator&gt;
&lt;author&gt;XWiki.Admin&lt;/author&gt;
&lt;customClass&gt;&lt;/customClass&gt;
&lt;contentAuthor&gt;XWiki.Admin&lt;/contentAuthor&gt;
&lt;creationDate&gt;1369319630000&lt;/creationDate&gt;
&lt;date&gt;1370331045000&lt;/date&gt;
&lt;contentUpdateDate&gt;1370331045000&lt;/contentUpdateDate&gt;
&lt;version&gt;4.16&lt;/version&gt;
&lt;title&gt;Autosuggest&lt;/title&gt;
&lt;template&gt;&lt;/template&gt;
&lt;defaultTemplate&gt;&lt;/defaultTemplate&gt;
&lt;validationScript&gt;&lt;/validationScript&gt;
&lt;comment&gt;&lt;/comment&gt;
&lt;minorEdit&gt;true&lt;/minorEdit&gt;
&lt;syntaxId&gt;xwiki/2.1&lt;/syntaxId&gt;
&lt;hidden&gt;false&lt;/hidden&gt;
&lt;content&gt;{{velocity}}
#set($input = $request.get("input").toLowerCase())
#set($spacename = $request.get('spacename'))

$response.setContent("text/xml")

#if("$!input" == "")
    #set($query = "where doc.space='$spacename' and doc.name&amp;lt;&amp;gt;'WebHome' and doc.name&amp;lt;&amp;gt;'WebPreferences' and doc.name&amp;lt;&amp;gt;'JobService'")
#else
    #set($query = "where doc.space='$spacename' and doc.name&amp;lt;&amp;gt;'WebHome' and doc.name&amp;lt;&amp;gt;'WebPreferences' and doc.name&amp;lt;&amp;gt;'JobService' and lower(doc.name) like '%" + $input +"%'")
#end

#set($searchResults = $xwiki.searchDocuments($query))

&amp;lt;results space="$spacename"&amp;gt;
  #foreach($result in $searchResults)
       #set($resultDoc = $xwiki.getDocument($result))       
       #set($resultTitle = $resultDoc.position)
       &amp;lt;rs id="$resultTitle"&amp;gt;$resultTitle&amp;lt;/rs&amp;gt;
  #end
&amp;lt;/results&amp;gt;

{{/velocity}}&lt;/content&gt;&lt;/xwikidoc&gt;
@


4.15
log
@@
text
@d14 3
a16 3
&lt;date&gt;1370331039000&lt;/date&gt;
&lt;contentUpdateDate&gt;1370331039000&lt;/contentUpdateDate&gt;
&lt;version&gt;4.15&lt;/version&gt;
d34 1
a34 1
    #set($query = "where doc.space='$spacename' and doc.name&amp;lt;&amp;gt;'WebHome' and doc.name&amp;lt;&amp;gt;'WebPreferences' doc.name&amp;lt;&amp;gt;'JobService' and lower(doc.name) like '%" + $input +"%'")
@


4.14
log
@@
text
@d14 3
a16 3
&lt;date&gt;1370331023000&lt;/date&gt;
&lt;contentUpdateDate&gt;1370331023000&lt;/contentUpdateDate&gt;
&lt;version&gt;4.14&lt;/version&gt;
d34 1
a34 1
    #set($query = "where doc.space='$spacename' and doc.name&amp;lt;&amp;gt;'WebHome' and and doc.name&amp;lt;&amp;gt;'WebPreferences' doc.name&amp;lt;&amp;gt;'JobService' and lower(doc.name) like '%" + $input +"%'")
@


4.13
log
@@
text
@d14 3
a16 3
&lt;date&gt;1370331020000&lt;/date&gt;
&lt;contentUpdateDate&gt;1370331020000&lt;/contentUpdateDate&gt;
&lt;version&gt;4.13&lt;/version&gt;
a37 1
#foreach($rez  in $searchResults ) 
a38 2
 $rez
#end
@


4.12
log
@@
text
@d14 3
a16 3
&lt;date&gt;1370330995000&lt;/date&gt;
&lt;contentUpdateDate&gt;1370330995000&lt;/contentUpdateDate&gt;
&lt;version&gt;4.12&lt;/version&gt;
d32 1
a32 1
    #set($query = "where doc.space='$spacename' and doc.name&amp;lt;&amp;gt;'WebHome' and doc.name&amp;lt;&amp;gt;'JobService'")
d34 1
a34 1
    #set($query = "where doc.space='$spacename' and doc.name&amp;lt;&amp;gt;'WebHome' and doc.name&amp;lt;&amp;gt;'JobService' and lower(doc.name) like '%" + $input +"%'")
@


4.11
log
@@
text
@&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;xwikidoc&gt;
&lt;web&gt;JobArea&lt;/web&gt;
&lt;name&gt;Autosuggest&lt;/name&gt;
&lt;language&gt;&lt;/language&gt;
&lt;defaultLanguage&gt;en&lt;/defaultLanguage&gt;
&lt;translation&gt;0&lt;/translation&gt;
&lt;parent&gt;&lt;/parent&gt;
&lt;creator&gt;XWiki.Admin&lt;/creator&gt;
&lt;author&gt;XWiki.Admin&lt;/author&gt;
&lt;customClass&gt;&lt;/customClass&gt;
&lt;contentAuthor&gt;XWiki.Admin&lt;/contentAuthor&gt;
&lt;creationDate&gt;1369319630000&lt;/creationDate&gt;
&lt;date&gt;1370330973000&lt;/date&gt;
&lt;contentUpdateDate&gt;1370330973000&lt;/contentUpdateDate&gt;
&lt;version&gt;4.11&lt;/version&gt;
&lt;title&gt;Autosuggest&lt;/title&gt;
&lt;template&gt;&lt;/template&gt;
&lt;defaultTemplate&gt;&lt;/defaultTemplate&gt;
&lt;validationScript&gt;&lt;/validationScript&gt;
&lt;comment&gt;&lt;/comment&gt;
&lt;minorEdit&gt;true&lt;/minorEdit&gt;
&lt;syntaxId&gt;xwiki/2.1&lt;/syntaxId&gt;
&lt;hidden&gt;false&lt;/hidden&gt;
&lt;content&gt;{{velocity}}
#set($input = $request.get("input").toLowerCase())
#set($spacename = $request.get('spacename'))

$response.setContent("text/xml")

#if("$!input" == "")
    #set($query = "where doc.space='$spacename' and doc.name&amp;lt;&amp;gt;'WebHome' and doc.name&amp;lt;&amp;gt;'JobService'")
#else
    #set($query = "where doc.space='$spacename' and doc.name&amp;lt;&amp;gt;'WebHome' and doc.name&amp;lt;&amp;gt;'JobService' and lower(doc.name) like '%" + $input +"%'")
#end

#set($searchResults = $xwiki.searchDocuments($query))
$searchResults.size()
&amp;lt;results space="$spacename"&amp;gt;
  #foreach($result in $searchResults)
       #set($resultDoc = $xwiki.getDocument($result))       
       #set($resultTitle = $resultDoc.position)
       &amp;lt;rs id="$resultTitle"&amp;gt;$resultTitle&amp;lt;/rs&amp;gt;
  #end
&amp;lt;/results&amp;gt;

{{/velocity}}&lt;/content&gt;&lt;/xwikidoc&gt;
@


4.10
log
@@
text
@d14 3
a16 3
&lt;date&gt;1370330968000&lt;/date&gt;
&lt;contentUpdateDate&gt;1370330968000&lt;/contentUpdateDate&gt;
&lt;version&gt;4.10&lt;/version&gt;
d38 1
a38 1
$searchResults.size
@


4.9
log
@@
text
@d14 3
a16 3
&lt;date&gt;1370330950000&lt;/date&gt;
&lt;contentUpdateDate&gt;1370330950000&lt;/contentUpdateDate&gt;
&lt;version&gt;4.9&lt;/version&gt;
d38 1
@


4.8
log
@@
text
@d14 3
a16 3
&lt;date&gt;1370330933000&lt;/date&gt;
&lt;contentUpdateDate&gt;1370330933000&lt;/contentUpdateDate&gt;
&lt;version&gt;4.8&lt;/version&gt;
d37 1
a37 1
#set($searchResults = $xwiki.searchDocuments($query, 30, 0))
@


4.7
log
@@
text
@d14 3
a16 3
&lt;date&gt;1370330922000&lt;/date&gt;
&lt;contentUpdateDate&gt;1370330922000&lt;/contentUpdateDate&gt;
&lt;version&gt;4.7&lt;/version&gt;
d41 1
a41 1
       #set($resultTitle = $resultTitle.position)
@


4.6
log
@@
text
@&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;xwikidoc&gt;
&lt;web&gt;JobArea&lt;/web&gt;
&lt;name&gt;Autosuggest&lt;/name&gt;
&lt;language&gt;&lt;/language&gt;
&lt;defaultLanguage&gt;en&lt;/defaultLanguage&gt;
&lt;translation&gt;0&lt;/translation&gt;
&lt;parent&gt;&lt;/parent&gt;
&lt;creator&gt;XWiki.Admin&lt;/creator&gt;
&lt;author&gt;XWiki.Admin&lt;/author&gt;
&lt;customClass&gt;&lt;/customClass&gt;
&lt;contentAuthor&gt;XWiki.Admin&lt;/contentAuthor&gt;
&lt;creationDate&gt;1369319630000&lt;/creationDate&gt;
&lt;date&gt;1370330903000&lt;/date&gt;
&lt;contentUpdateDate&gt;1370330903000&lt;/contentUpdateDate&gt;
&lt;version&gt;4.6&lt;/version&gt;
&lt;title&gt;Autosuggest&lt;/title&gt;
&lt;template&gt;&lt;/template&gt;
&lt;defaultTemplate&gt;&lt;/defaultTemplate&gt;
&lt;validationScript&gt;&lt;/validationScript&gt;
&lt;comment&gt;&lt;/comment&gt;
&lt;minorEdit&gt;true&lt;/minorEdit&gt;
&lt;syntaxId&gt;xwiki/2.1&lt;/syntaxId&gt;
&lt;hidden&gt;false&lt;/hidden&gt;
&lt;content&gt;{{velocity}}
#set($input = $request.get("input").toLowerCase())
#set($spacename = $request.get('spacename'))

$response.setContent("text/xml")

#if("$!input" == "")
    #set($query = "where doc.space='$spacename' and doc.name&amp;lt;&amp;gt;'WebHome' and doc.name&amp;lt;&amp;gt;'JobService'")
#else
    #set($query = "where doc.space='$spacename' and doc.name&amp;lt;&amp;gt;'WebHome' and doc.name&amp;lt;&amp;gt;'JobService' and lower(doc.name) like '%" + $input +"%'")
#end

#set($searchResults = $xwiki.searchDocuments($query, 30, 0))
&amp;lt;results space="$spacename"&amp;gt;
  #foreach($result in $searchResults)
       #set($resultDoc = $xwiki.getDocument($result))
       #set($resultTitle = $resultTitle.getObject('JobAreaClass'))
       &amp;lt;rs id="$resultTitle"&amp;gt;$resultTitle&amp;lt;/rs&amp;gt;
  #end
&amp;lt;/results&amp;gt;

{{/velocity}}&lt;/content&gt;&lt;/xwikidoc&gt;
@


4.5
log
@@
text
@d14 3
a16 3
&lt;date&gt;1370330885000&lt;/date&gt;
&lt;contentUpdateDate&gt;1370330885000&lt;/contentUpdateDate&gt;
&lt;version&gt;4.5&lt;/version&gt;
d41 1
a41 2
       #set($jobObj = $resultDoc.getObject('JobAreaClass'))
       $resultDoc.position
@


4.4
log
@@
text
@d14 3
a16 3
&lt;date&gt;1370330855000&lt;/date&gt;
&lt;contentUpdateDate&gt;1370330855000&lt;/contentUpdateDate&gt;
&lt;version&gt;4.4&lt;/version&gt;
d42 1
a42 1
       $jobObj.position
@


4.3
log
@@
text
@d14 3
a16 3
&lt;date&gt;1370330733000&lt;/date&gt;
&lt;contentUpdateDate&gt;1370330733000&lt;/contentUpdateDate&gt;
&lt;version&gt;4.3&lt;/version&gt;
d41 2
a42 2
       #set($resultTitle = $resultDoc.title)
       $resultTitle
@


4.2
log
@@
text
@d14 3
a16 3
&lt;date&gt;1370330717000&lt;/date&gt;
&lt;contentUpdateDate&gt;1370330717000&lt;/contentUpdateDate&gt;
&lt;version&gt;4.2&lt;/version&gt;
a40 1
       $resultDoc
d42 1
@


4.1
log
@@
text
@&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;xwikidoc&gt;
&lt;web&gt;JobArea&lt;/web&gt;
&lt;name&gt;Autosuggest&lt;/name&gt;
&lt;language&gt;&lt;/language&gt;
&lt;defaultLanguage&gt;en&lt;/defaultLanguage&gt;
&lt;translation&gt;0&lt;/translation&gt;
&lt;parent&gt;&lt;/parent&gt;
&lt;creator&gt;XWiki.Admin&lt;/creator&gt;
&lt;author&gt;XWiki.Admin&lt;/author&gt;
&lt;customClass&gt;&lt;/customClass&gt;
&lt;contentAuthor&gt;XWiki.Admin&lt;/contentAuthor&gt;
&lt;creationDate&gt;1369319630000&lt;/creationDate&gt;
&lt;date&gt;1370330673000&lt;/date&gt;
&lt;contentUpdateDate&gt;1370330670000&lt;/contentUpdateDate&gt;
&lt;version&gt;4.1&lt;/version&gt;
&lt;title&gt;Autosuggest&lt;/title&gt;
&lt;template&gt;&lt;/template&gt;
&lt;defaultTemplate&gt;&lt;/defaultTemplate&gt;
&lt;validationScript&gt;&lt;/validationScript&gt;
&lt;comment&gt;&lt;/comment&gt;
&lt;minorEdit&gt;false&lt;/minorEdit&gt;
&lt;syntaxId&gt;xwiki/2.1&lt;/syntaxId&gt;
&lt;hidden&gt;false&lt;/hidden&gt;
&lt;content&gt;{{velocity}}
#set($input = $request.get("input").toLowerCase())
#set($spacename = $request.get('spacename'))

$response.setContent("text/xml")

#if("$!input" == "")
    #set($query = "where doc.space='$spacename' and doc.name&amp;lt;&amp;gt;'WebHome' and doc.name&amp;lt;&amp;gt;'JobService'")
#else
    #set($query = "where doc.space='$spacename' and doc.name&amp;lt;&amp;gt;'WebHome' and doc.name&amp;lt;&amp;gt;'JobService' and lower(doc.name) like '%" + $input +"%'")
#end

#set($searchResults = $xwiki.searchDocuments($query, 30, 0))
&amp;lt;results space="$spacename"&amp;gt;
  #foreach($result in $searchResults)
       #set($resultDoc = $xwiki.getDocument($result))
       #set($resultTitle = $resultDoc.title)
       &amp;lt;rs id="$resultTitle"&amp;gt;$resultTitle&amp;lt;/rs&amp;gt;
  #end
&amp;lt;/results&amp;gt;

{{/velocity}}&lt;/content&gt;&lt;/xwikidoc&gt;
@


3.2
log
@@
text
@d14 1
a14 1
&lt;date&gt;1370330670000&lt;/date&gt;
d16 1
a16 1
&lt;version&gt;3.2&lt;/version&gt;
d22 1
a22 1
&lt;minorEdit&gt;true&lt;/minorEdit&gt;
@


3.1
log
@@
text
@d14 3
a16 3
&lt;date&gt;1370330531000&lt;/date&gt;
&lt;contentUpdateDate&gt;1370330531000&lt;/contentUpdateDate&gt;
&lt;version&gt;3.1&lt;/version&gt;
d22 1
a22 1
&lt;minorEdit&gt;false&lt;/minorEdit&gt;
d37 8
a45 1

@


2.1
log
@@
text
@d14 3
a16 3
&lt;date&gt;1370330444000&lt;/date&gt;
&lt;contentUpdateDate&gt;1370330444000&lt;/contentUpdateDate&gt;
&lt;version&gt;2.1&lt;/version&gt;
d33 2
d37 2
@


1.1
log
@@
text
@d14 3
a16 3
&lt;date&gt;1369319732000&lt;/date&gt;
&lt;contentUpdateDate&gt;1369319732000&lt;/contentUpdateDate&gt;
&lt;version&gt;1.1&lt;/version&gt;
d26 2
d29 1
a29 1
#set($query = $xwiki.searchDocuments("where doc.space = 'JobArea'"))
d31 3
a33 1
$query
@
</versions></xwikidoc>